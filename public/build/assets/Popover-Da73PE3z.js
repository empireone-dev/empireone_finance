import{r,j as x}from"./app-0Cr446pr.js";import{g as so,a as ro,s as k,u as io,c as N,b as ao}from"./DefaultPropsProvider-Bue_U7EK.js";import{i as yo}from"./isHostComponent-DVu5iVWx.js";import{u as Q}from"./useSlot-CQaegQ-F.js";import{M as wo}from"./Modal-ktA9eF3Q.js";import{P as xo}from"./Paper-DovkDiMN.js";import{o as Z}from"./ownerDocument-DW-IO8s5.js";import{o as oo}from"./ownerWindow-HkKU3E4x.js";import{d as Eo}from"./debounce-Be36O1Ab.js";import{u as Ro}from"./createSimplePaletteValueFilter-BmyParhM.js";import{G as Co}from"./Grow-D-TFFO2Q.js";function Vo(o,t){var e,p,f;return r.isValidElement(o)&&t.indexOf(o.type.muiName??((f=(p=(e=o.type)==null?void 0:e._payload)==null?void 0:p.value)==null?void 0:f.muiName))!==-1}const Lo=r.createContext({});function Mo(o){return so("MuiList",o)}ro("MuiList",["root","padding","dense","subheader"]);const To=o=>{const{classes:t,disablePadding:e,dense:p,subheader:f}=o;return ao({root:["root",!e&&"padding",p&&"dense",f&&"subheader"]},Mo,t)},Oo=k("ul",{name:"MuiList",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:e}=o;return[t.root,!e.disablePadding&&t.padding,e.dense&&t.dense,e.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:o})=>!o.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:o})=>o.subheader,style:{paddingTop:0}}]}),Xo=r.forwardRef(function(t,e){const p=io({props:t,name:"MuiList"}),{children:f,className:l,component:u="ul",dense:P=!1,disablePadding:h=!1,subheader:R,...C}=p,L=r.useMemo(()=>({dense:P}),[P]),y={...p,component:u,dense:P,disablePadding:h},i=To(y);return x.jsx(Lo.Provider,{value:L,children:x.jsxs(Oo,{as:u,className:N(i.root,l),ref:e,ownerState:y,...C,children:[R,f]})})});function So(o){return so("MuiPopover",o)}ro("MuiPopover",["root","paper"]);function to(o,t){let e=0;return typeof t=="number"?e=t:t==="center"?e=o.height/2:t==="bottom"&&(e=o.height),e}function eo(o,t){let e=0;return typeof t=="number"?e=t:t==="center"?e=o.width/2:t==="right"&&(e=o.width),e}function no(o){return[o.horizontal,o.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function j(o){return typeof o=="function"?o():o}const zo=o=>{const{classes:t}=o;return ao({root:["root"],paper:["paper"]},So,t)},jo=k(wo,{name:"MuiPopover",slot:"Root",overridesResolver:(o,t)=>t.root})({}),No=k(xo,{name:"MuiPopover",slot:"Paper",overridesResolver:(o,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Yo=r.forwardRef(function(t,e){const p=io({props:t,name:"MuiPopover"}),{action:f,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:P,anchorReference:h="anchorEl",children:R,className:C,container:L,elevation:y=8,marginThreshold:i=16,open:m,PaperProps:lo={},slots:co={},slotProps:E={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:M=Co,transitionDuration:T="auto",TransitionProps:{onEntering:W,...D}={},disableScrollLock:O=!1,...po}=p,g=(E==null?void 0:E.paper)??lo,S=r.useRef(),z={...p,anchorOrigin:u,anchorReference:h,elevation:y,marginThreshold:i,externalPaperSlotProps:g,transformOrigin:w,TransitionComponent:M,transitionDuration:T,TransitionProps:D},H=zo(z),U=r.useCallback(()=>{if(h==="anchorPosition")return P;const n=j(l),a=(n&&n.nodeType===1?n:Z(S.current).body).getBoundingClientRect();return{top:a.top+to(a,u.vertical),left:a.left+eo(a,u.horizontal)}},[l,u.horizontal,u.vertical,P,h]),A=r.useCallback(n=>({vertical:to(n,w.vertical),horizontal:eo(n,w.horizontal)}),[w.horizontal,w.vertical]),$=r.useCallback(n=>{const s={width:n.offsetWidth,height:n.offsetHeight},a=A(s);if(h==="none")return{top:null,left:null,transformOrigin:no(a)};const X=U();let v=X.top-a.vertical,b=X.left-a.horizontal;const Y=v+s.height,_=b+s.width,q=oo(j(l)),J=q.innerHeight-i,K=q.innerWidth-i;if(i!==null&&v<i){const c=v-i;v-=c,a.vertical+=c}else if(i!==null&&Y>J){const c=Y-J;v-=c,a.vertical+=c}if(i!==null&&b<i){const c=b-i;b-=c,a.horizontal+=c}else if(_>K){const c=_-K;b-=c,a.horizontal+=c}return{top:`${Math.round(v)}px`,left:`${Math.round(b)}px`,transformOrigin:no(a)}},[l,h,U,A,i]),[fo,B]=r.useState(m),d=r.useCallback(()=>{const n=S.current;if(!n)return;const s=$(n);s.top!==null&&(n.style.top=s.top),s.left!==null&&(n.style.left=s.left),n.style.transformOrigin=s.transformOrigin,B(!0)},[$]);r.useEffect(()=>(O&&window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)),[l,O,d]);const uo=(n,s)=>{W&&W(n,s),d()},mo=()=>{B(!1)};r.useEffect(()=>{m&&d()}),r.useImperativeHandle(f,()=>m?{updatePosition:()=>{d()}}:null,[m,d]),r.useEffect(()=>{if(!m)return;const n=Eo(()=>{d()}),s=oo(l);return s.addEventListener("resize",n),()=>{n.clear(),s.removeEventListener("resize",n)}},[l,m,d]);let F=T;T==="auto"&&!M.muiSupportAuto&&(F=void 0);const ho=L||(l?Z(j(l)).body:void 0),G={slots:co,slotProps:{...E,paper:g}},[go,I]=Q("paper",{elementType:No,externalForwardedProps:G,additionalProps:{elevation:y,className:N(H.paper,g==null?void 0:g.className),style:fo?g.style:{...g.style,opacity:0}},ownerState:z}),[V,{slotProps:Po,...vo}]=Q("root",{elementType:jo,externalForwardedProps:G,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:ho,open:m},ownerState:z,className:N(H.root,C)}),bo=Ro(S,I.ref);return x.jsx(V,{...vo,...!yo(V)&&{slotProps:Po,disableScrollLock:O},...po,ref:e,children:x.jsx(M,{appear:!0,in:m,onEntering:uo,onExited:mo,timeout:F,...D,children:x.jsx(go,{...I,ref:bo,children:R})})})});export{Lo as L,Yo as P,Xo as a,No as b,Vo as i};
